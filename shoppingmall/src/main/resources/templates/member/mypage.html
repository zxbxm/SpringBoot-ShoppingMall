<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정보 수정</title>
</head>
<th:block layout:fragment="script">

    <script th:inline="javascript">
    // 회원탈퇴 버튼 클릭시 한번 더 확인하는 메세지 기능
    function confirmDelete() {
        if (confirm('정말 회원 탈퇴하시겠습니까?')) {
            location.href ='/member/memberDelete';
        } else {
            // 사용자가 취소한 경우 아무 작업도 하지 않습니다.
        }
    }
    </script>

</th:block>

  <div layout:fragment="content">
  	<h2>비밀번호 변경</h2>
    <form action="/member/password" method="post">
    	<input type="hidden" id=memberId name =memberId th:value="${memberId}">
        <label for="currentPassword">비밀번호 :</label><br>
        <input type="password" id="currentPassword" name="currentPassword"><br>
        <label for="newPassword">바꿀 비밀번호 :</label><br>
        <input type="password" id="newPassword" name="newPassword"><br><br>
        <input type="submit" value="비밀번호 변경">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
    </form>
	<br>
     <div th:if="${errorMessage}" th:text="${errorMessage}"></div>
     
	<br>
	
	<!-- 회원탈퇴 클릭시 confirmDelete 함수를 사용해서 회원탈퇴 페이지로 이동 
		javascript:void(0); 아무것도 하지 말라는 의미
	-->
	<a href="javascript:void(0);" onclick="confirmDelete()">회원 탈퇴</a>
	
	<!-- 기타 방법 -->
	
	<!-- <button type="button" onclick="confirmDelete()">회원 탈퇴</button>
		링크 대신 버튼을 사용하면, 기본적으로 페이지 이동 동작이 없기 때문에 다른 코드가 필요하지 않음.
	 -->
	 <!-- <a href="#" onclick="confirmDelete(); return false;">회원 탈퇴</a>
	 	여기서 return false는 클릭 이벤트가 발생한 후 링크가 기본적으로 
	 	페이지를 리로드하거나 다른 페이지로 이동하지 않도록 합니다.
	  -->
	
	  
  </div>
  
</html>




